export function combineFormData(...t){const e=new FormData;for(const s of t.map((t=>[...new FormData(t).entries()])).flat(1))e.append(...s);return e}if(void 0===customElements.get("form-wizard")){const t=document.createElement("template");t.innerHTML='<style>*{box-sizing:border-box}:host{display:none;z-index:100;position:fixed;top:0;left:0;width:100vw;height:100vh;background:0 0}:host([open]){display:inline-block}#cntr{padding:2em;height:100vh;display:grid;grid-template-rows:min-content 1fr max-content;gap:.5em;background:rgba(0,0,0,.5)}:host([single-form]) #cntr{grid-template-rows:1fr max-content}#slotc{overflow-y:hidden;display:grid;justify-content:center;align-items:center;background:0 0}#fslot::slotted(:not(form)),#fslot::slotted(:not(form.active)){display:none!important}#fslot::slotted(form){max-height:100%;overflow-y:auto;background:#ededed;color:#000;padding:.5em .75em}#actions{display:flex;justify-content:end;gap:.5em}#actions>button{cursor:pointer;padding:.75em 1.5em;border:none;font-family:\'Lucida Sans\',\'Lucida Sans Regular\',\'Lucida Grande\',\'Lucida Sans Unicode\',Geneva,Verdana,sans-serif;background:#121212;color:wheat;border-radius:.5em}#actions>button:hover{filter:brightness(1.5)}#actions>button:disabled{cursor:not-allowed;filter:brightness(.25)}#actions>button:active{filter:brightness(.7)}#states{display:flex;flex-wrap:wrap;gap:.5em;align-items:center;justify-content:center}:host([single-form]) #states{display:none}#states>div:last-child{display:none}#states>div{display:inline-block;height:3px;width:1em;background:grey;border-radius:3px}#states>span{display:grid;font-family:Arial,Helvetica,sans-serif;width:1em;height:1em;border-radius:.5em;justify-content:center;align-items:center;background:#eceff1;border:.1em solid #263238;box-shadow:-1px 1px 4px #000}#states>span[part="dot dot-ok"]{background:#00695c}#states>span.active{border-width: 0.2em !important}</style><div part="overlay" id="cntr"><div exportparts="dot, dot-ok, dot-error" id="states"></div><div part="form-container" id="slotc"><slot id="fslot"></slot></div><div part="button-container" id="actions"><button part="button">Back</button><button part="button">Next</button><button part="button">Cancel</button></div></div>';class e extends HTMLElement{static#t(t,e,s){t.textContent=e,s?t.setAttribute("disabled","disabled"):t.removeAttribute("disabled")}#e;#s;#i=[];#o=[];#a=0;set#n(t){const s=this.#i.length;t<0&&(t+=s),t>=s&&(t%=s);for(const t of this.#o)t.classList.remove("active");for(const t of this.#i)t.classList.remove("active");const i=this.#i[t];e.#t(this.#s[0],i.dataset.backText??"Back",0===t||i.dataset.backDisabled),e.#t(this.#s[1],i.dataset.nextText??(t+1===s?"Finish":"Next"),i.dataset.nextDisabled),e.#t(this.#s[2],i.dataset.cancelText??"Cancel",i.dataset.cancelDisabled),i.classList.add("active"),this.#o[t].classList.add("active"),this.#a=t,i.querySelector("input, textarea")?.focus()}get#n(){return this.#a}constructor(){super(),this.#e=this.attachShadow({mode:"closed"}),this.#e.appendChild(t.content.cloneNode(!0)),this.#s=[...this.#e.querySelectorAll("#actions > button")],this.#e.querySelector("slot").addEventListener("slotchange",(({target:t})=>{this.#i=[];const e=this.#e.querySelector("#states");e.innerHTML="";for(const s of t.assignedNodes())3===s.nodeType?s.nodeValue="":s instanceof HTMLFormElement&&(this.#i.push(s),s.addEventListener("submit",(t=>(t.preventDefault(),t.stopPropagation(),this.#s[1].click(),!1))),e.appendChild(document.createElement("span")).setAttribute("part","dot"),e.appendChild(document.createElement("div")).setAttribute("part","dot-spacer"));this.#o=[...this.#e.querySelectorAll("#states > span")],this.dispatchEvent(new CustomEvent("ready"))})),this.#s[0].addEventListener("click",(()=>this.#n--)),this.#s[1].addEventListener("click",(()=>{const t=this.#i[this.#a],e=this.#o[this.#a];if(t.checkValidity())e.setAttribute("part","dot dot-ok");else if(e.setAttribute("part","dot dot-error"),!Boolean(t.dataset.skippable))return void t.reportValidity();if(this.#a+1===this.#i.length)return this.removeAttribute("open"),void(this.hasAttribute("combined-formdata")?this.dispatchEvent(new CustomEvent("submit",{detail:combineFormData(...this.#i.filter(((t,e)=>"dot dot-ok"===this.#o[e].getAttribute("part"))))})):this.dispatchEvent(new CustomEvent("submit",{detail:this.#i.map(((t,e)=>({form:t,valid:"dot dot-ok"===this.#o[e].getAttribute("part")})))})));this.#n++,this.#i[this.#a].querySelector("input")?.focus()})),this.#s[2].addEventListener("click",(()=>this.removeAttribute("open")))}show(){0!==this.#i.length&&(1===this.#i.length&&this.setAttribute("single-form",""),this.#n=0,this.setAttribute("open",""))}hide(){this.removeAttribute("open")}}customElements.define("form-wizard",e)}