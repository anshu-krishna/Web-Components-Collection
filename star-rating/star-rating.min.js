if(void 0===customElements.get("star-rating")){const t=document.createElement("template");t.innerHTML='<style>*{box-sizing:border-box;padding:0;margin:0}div{display:inline-block}:host{--star-gap:.15em;display:inline-block;height:2em;padding:.15em .25em}#cntr{--clip-path:none;outline:none;position:relative;display:flex;flex-wrap:nowrap;height:100%;gap:var(--star-gap);overflow-x:auto;overflow-y:hidden;width:auto}:host(:focus){outline:5px auto -webkit-focus-ring-color;outline:5px auto Highlight}[part="star"]{--star-fill-color:radial-gradient(yellow,gold 40%);--star-empty-color:#999;filter:drop-shadow(1px 1px 2px black);height:100%}:host([changeable]) [part="star"]:hover{transform:scale(.9);cursor:pointer}[part="star"]>span{display:inline-block;height:100%;aspect-ratio:1;background:var(--star-fill-color);clip-path:var(--clip-path);position:relative;--fill:100%}[part="star"]>span::after{display:inline-block;z-index:1;content:\'\';position:absolute;left:var(--fill);height:100%;width:calc(100% - var(--fill));background:var(--star-empty-color)}#ip{position:absolute;bottom:0;left:25%;border:none;width:1px;height:1px;opacity:0}</style><div id="cntr"></div>';class e extends HTMLElement{static*#t(t=0,e=null,s=1){e??=Number.MAX_SAFE_INTEGER-s;const i=Math.sign(s);if(Math.sign(e-t)!==i)throw new RangeError(`Infinite steps: ${t} -> ${e} is impossible with ${s} as increment`);let a=t;for(;a!==e&&Math.sign(e-a)===i;)yield a,a+=s}static#e(t,{int:e=!1,mod:s=null,min:i=null,max:a=null}={}){let r=Number(t);if(!Number.isFinite(r))return null;if(e&&(r=parseInt(r)),null!==s){const t=i??0;for(;r<t;)r+=s;r%=s}return null!==i&&r<i||null!==a&&r>a?null:r}#s;#i;#a={points:5,depth:50,rotate:0,precision:2,value:0,max:5};get points(){return this.#a.points}set points(t){this.setAttribute("points",t)}get depth(){return this.#a.depth}set depth(t){this.setAttribute("depth",t)}get rotate(){return this.#a.rotate}set rotate(t){this.setAttribute("rotate",t)}get precision(){return this.#a.precision}set precision(t){this.setAttribute("precision",t)}get max(){return this.#a.max}set max(t){this.setAttribute("max",t)}get value(){return this.#a.value}set value(t){this.setAttribute("value",t)}constructor(){super(),this.#s={root:this.attachShadow({mode:"closed"}),get starSpans(){return this.cntr.querySelectorAll("div > span")},get ip(){return this.cntr.querySelector("#ip")}},this.#s.root.appendChild(t.content.cloneNode(!0)),this.#s.cntr=this.#s.root.querySelector("#cntr"),this.#i=this.attachInternals();for(const t of Object.keys(ElementInternals.prototype).filter((t=>t.startsWith("aria"))))Object.defineProperty(this,t,{value:this.#i[t]});this.#r(),this.#n(),this.#o()}#n(t=5){this.#s.cntr.innerHTML=`${[...e.#t(0,t)].map((()=>'<div part="star"><span></span></div>')).join("")}<input id="ip" type="checkbox" />`}static#l(t){const e=Math.min(...t),s=Math.max(...t);t.offset=50-(s+e)/2}#r(){const t=(100-this.#a.depth)/2,s=this.#a.precision,i=[],a=[],r=[];for(const[s,r]of Object.entries([...e.#t(this.#a.rotate+270,630+this.#a.rotate,180/this.#a.points)].map((t=>{const e=t%360*Math.PI/180;return{sin:Math.sin(e),cos:Math.cos(e)}})))){const e=s%2?t:50;i.push(e*r.cos),a.push(e*r.sin)}e.#l(i),e.#l(a);for(const t of e.#t(0,i.length))r.push(`${Number((i[t]+i.offset).toFixed(s))}% ${Number((a[t]+a.offset).toFixed(s))}%`);this.#s.cntr.style.setProperty("--clip-path",`polygon(${r.join(",")})`)}#o(){let{max:t,value:s}=this.#a;s=Number(s.toFixed(2));const i=[...this.#s.starSpans];for(const a of e.#t(0,t)){let t=s-a;t>1?t=1:t<0&&(t=0),i[a].style.setProperty("--fill",100*t+"%")}}#h(t){if(t)for(const[t,e]of Object.entries(this.#s.starSpans))e.parentElement.onclick=e=>{e.preventDefault(),e.stopPropagation(),this.value=parseInt(t)+1};else for(const t of this.#s.starSpans)t.parentElement.onclick=null}connectedCallback(){this.#c()}adoptedCallback(){this.#c()}static get observedAttributes(){return["points","depth","rotate","precision","max","value","changeable","required"]}attributeChangedCallback(t,s,i){if(s!==i)switch(t){case"points":this.#a.points=e.#e(i,{int:!0,min:2})??5,this.#r();break;case"depth":this.#a.depth=e.#e(i,{min:0,max:99})??50,this.#r();break;case"rotate":this.#a.rotate=e.#e(i,{mod:360,min:0,max:360})??0,this.#r();break;case"precision":this.#a.precision=e.#e(i,{int:!0,min:0,max:7})??7,this.#r();break;case"max":this.#a.max=e.#e(i,{int:!0,min:1,max:10})??5,this.#n(this.#a.max),this.#o(),this.#c(),this.#h(this.hasAttribute("changeable"));break;case"value":this.#a.value=e.#e(i,{min:0,max:this.max})??0,this.#o(),this.#c(),this.dispatchEvent(new Event("change",{bubbles:!0}));break;case"changeable":this.#h(null!==i);break;case"required":this.#c();break}}#c(){const t=this.value;this.#i.setFormValue(t),this.hasAttribute("required")&&0===t?this.#i.setValidity({valueMissing:!0},"A rating is required",this.#s.ip):this.#i.setValidity({})}static get formAssociated(){return!0}get shadowRoot(){return this.#i.shadowRoot}get form(){return this.#i.form}get states(){return this.#i.states}get willValidate(){return this.#i.willValidate}get validity(){return this.#i.validity}get validationMessage(){return this.#i.validationMessage}get labels(){return this.#i.labels}setFormValue(...t){return this.#i.setFormValue(...t)}setValidity(...t){return this.#i.setValidity(...t)}checkValidity(...t){return this.#i.checkValidity(...t)}reportValidity(...t){return this.#i.reportValidity(...t)}get name(){return this.getAttribute("name")}get type(){return this.localName}}customElements.define("star-rating",e)}